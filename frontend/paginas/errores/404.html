<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Página no encontrada - Sistema de Portafolio Docente UNSAAC">
  <meta name="keywords" content="404, error, página no encontrada, UNSAAC">
  <meta name="author" content="UNSAAC">
  <title>Página No Encontrada (404) - Sistema de Portafolio Docente</title>

  <!-- CSS Principal -->
  <link rel="stylesheet" href="../assets/css/principal.css">

  <!-- JavaScript -->
  <script src="../assets/js/nucleo/configuracion.js"></script>
  <script src="../assets/js/nucleo/autenticacion.js"></script>
  <script src="../assets/js/paginas/compartidas/manejador-errores.js" defer></script>

  <!-- Font Awesome para iconos -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <!-- Meta adicionales -->
  <meta name="robots" content="noindex, nofollow">
  <meta name="theme-color" content="#e74c3c">
  <link rel="icon" type="image/png" href="../assets/imagenes/iconos/favicon.png">
</head>

<body class="error-page error-404">
  <!-- Header simplificado -->
  <header class="error-header">
    <div class="header-container">
      <div class="logo-container">
        <div class="logo-img">
          <img src="../assets/imagenes/logos/logo-unsaac.png" alt="Logo UNSAAC" onclick="irAlInicio()">
        </div>
        <div class="logo-text">
          <span class="logo-title">Sistema de Portafolio</span>
          <span class="logo-subtitle">UNSAAC</span>
        </div>
      </div>
      
      <div class="header-actions">
        <button onclick="volverAtras()" class="btn btn-outline">
          <i class="fas fa-arrow-left"></i> Volver
        </button>
        <button onclick="irAlInicio()" class="btn btn-primary">
          <i class="fas fa-home"></i> Inicio
        </button>
      </div>
    </div>
  </header>

  <!-- Contenido principal del error -->
  <main class="error-main">
    <div class="error-container">
      <!-- Sección visual del error -->
      <div class="error-visual">
        <div class="error-number">404</div>
        <div class="error-icon">
          <i class="fas fa-search"></i>
        </div>
        <div class="error-animation">
          <div class="floating-elements">
            <div class="element element-1"><i class="fas fa-file"></i></div>
            <div class="element element-2"><i class="fas fa-folder"></i></div>
            <div class="element element-3"><i class="fas fa-question"></i></div>
          </div>
        </div>
      </div>

      <!-- Información del error -->
      <div class="error-content">
        <h1 class="error-title">¡Oops! Página No Encontrada</h1>
        <p class="error-description">
          La página que estás buscando no existe o ha sido movida. Puede que hayas escrito mal la URL 
          o que el enlace esté desactualizado.
        </p>

        <!-- Información adicional sobre el error -->
        <div class="error-details" id="errorDetails">
          <div class="detail-item">
            <i class="fas fa-link"></i>
            <span>URL solicitada: <code id="requestedUrl">-</code></span>
          </div>
          <div class="detail-item">
            <i class="fas fa-clock"></i>
            <span>Tiempo: <span id="errorTime">-</span></span>
          </div>
          <div class="detail-item">
            <i class="fas fa-globe"></i>
            <span>Referencia: <span id="referrerUrl">Acceso directo</span></span>
          </div>
        </div>

        <!-- Sugerencias para el usuario -->
        <div class="error-suggestions">
          <h3><i class="fas fa-lightbulb"></i> ¿Qué puedes hacer?</h3>
          <ul class="suggestions-list">
            <li>
              <i class="fas fa-spell-check"></i>
              <span>Verificar que la URL esté escrita correctamente</span>
            </li>
            <li>
              <i class="fas fa-arrow-left"></i>
              <span>Usar el botón "Volver" de tu navegador</span>
            </li>
            <li>
              <i class="fas fa-home"></i>
              <span>Ir a la página principal del sistema</span>
            </li>
            <li>
              <i class="fas fa-search"></i>
              <span>Usar la búsqueda para encontrar lo que necesitas</span>
            </li>
            <li>
              <i class="fas fa-envelope"></i>
              <span>Contactar al soporte técnico si el problema persiste</span>
            </li>
          </ul>
        </div>

        <!-- Acciones principales -->
        <div class="error-actions">
          <button onclick="irAlInicio()" class="btn btn-primary btn-large">
            <i class="fas fa-home"></i> Ir al Inicio
          </button>
          <button onclick="volverAtras()" class="btn btn-secondary btn-large">
            <i class="fas fa-arrow-left"></i> Volver Atrás
          </button>
          <button onclick="reportarError()" class="btn btn-outline btn-large">
            <i class="fas fa-bug"></i> Reportar Error
          </button>
        </div>
      </div>
    </div>

    <!-- Sección de búsqueda -->
    <div class="error-search-section">
      <div class="search-container">
        <h3><i class="fas fa-search"></i> Buscar en el Sistema</h3>
        <div class="search-form">
          <div class="search-input-group">
            <input type="text" id="errorSearchInput" placeholder="¿Qué estás buscando?" onkeypress="buscarEnError(event)">
            <button onclick="realizarBusquedaError()" class="search-btn">
              <i class="fas fa-search"></i> Buscar
            </button>
          </div>
        </div>
        <div class="search-suggestions">
          <span class="suggestion-label">Sugerencias populares:</span>
          <div class="search-tags">
            <button onclick="buscarRapido('portafolios')" class="search-tag">Portafolios</button>
            <button onclick="buscarRapido('documentos')" class="search-tag">Documentos</button>
            <button onclick="buscarRapido('observaciones')" class="search-tag">Observaciones</button>
            <button onclick="buscarRapido('ayuda')" class="search-tag">Ayuda</button>
            <button onclick="buscarRapido('perfil')" class="search-tag">Mi Perfil</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Enlaces útiles -->
    <div class="useful-links-section">
      <h3><i class="fas fa-link"></i> Enlaces Útiles</h3>
      <div class="links-grid">
        <div class="link-card">
          <div class="link-icon">
            <i class="fas fa-home"></i>
          </div>
          <h4>Página Principal</h4>
          <p>Volver a la página de inicio del sistema</p>
          <a href="../index.html" class="link-btn">Ir al Inicio</a>
        </div>

        <div class="link-card">
          <div class="link-icon">
            <i class="fas fa-sign-in-alt"></i>
          </div>
          <h4>Iniciar Sesión</h4>
          <p>Acceder al sistema con tus credenciales</p>
          <a href="../paginas/autenticacion/login.html" class="link-btn">Iniciar Sesión</a>
        </div>

        <div class="link-card">
          <div class="link-icon">
            <i class="fas fa-question-circle"></i>
          </div>
          <h4>Centro de Ayuda</h4>
          <p>Encontrar respuestas a preguntas frecuentes</p>
          <a href="../paginas/compartidas/ayuda.html" class="link-btn">Ver Ayuda</a>
        </div>

        <div class="link-card">
          <div class="link-icon">
            <i class="fas fa-envelope"></i>
          </div>
          <h4>Soporte Técnico</h4>
          <p>Contactar al equipo de soporte</p>
          <a href="mailto:portafolio@unsaac.edu.pe" class="link-btn">Contactar</a>
        </div>
      </div>
    </div>

    <!-- Información de contacto -->
    <div class="contact-section">
      <div class="contact-container">
        <h3><i class="fas fa-headset"></i> ¿Necesitas Ayuda Adicional?</h3>
        <p>Si continúas experimentando problemas, no dudes en contactarnos:</p>
        
        <div class="contact-options">
          <div class="contact-option">
            <i class="fas fa-envelope"></i>
            <div class="contact-info">
              <strong>Email:</strong>
              <a href="mailto:portafolio@unsaac.edu.pe">portafolio@unsaac.edu.pe</a>
            </div>
          </div>
          
          <div class="contact-option">
            <i class="fas fa-phone"></i>
            <div class="contact-info">
              <strong>Teléfono:</strong>
              <a href="tel:+51842320006">+51 84 232006</a>
            </div>
          </div>
          
          <div class="contact-option">
            <i class="fas fa-map-marker-alt"></i>
            <div class="contact-info">
              <strong>Dirección:</strong>
              <span>Av. de la Cultura 733, Cusco</span>
            </div>
          </div>
          
          <div class="contact-option">
            <i class="fas fa-clock"></i>
            <div class="contact-info">
              <strong>Horario:</strong>
              <span>Lun - Vie: 8:00 AM - 5:00 PM</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Footer simplificado -->
  <footer class="error-footer">
    <div class="footer-container">
      <div class="footer-content">
        <div class="footer-info">
          <p>&copy; 2025 Universidad Nacional de San Antonio Abad del Cusco</p>
          <p>Sistema de Portafolio Docente | Todos los derechos reservados</p>
        </div>
        
        <div class="footer-links">
          <a href="../index.html">Inicio</a>
          <a href="../paginas/compartidas/ayuda.html">Ayuda</a>
          <a href="mailto:portafolio@unsaac.edu.pe">Soporte</a>
        </div>
        
        <div class="footer-social">
          <a href="https://www.facebook.com/unsaac.oficial" target="_blank" title="Facebook">
            <i class="fab fa-facebook-f"></i>
          </a>
          <a href="https://twitter.com/unsaac_oficial" target="_blank" title="Twitter">
            <i class="fab fa-twitter"></i>
          </a>
          <a href="https://www.instagram.com/unsaac_oficial" target="_blank" title="Instagram">
            <i class="fab fa-instagram"></i>
          </a>
          <a href="https://www.youtube.com/channel/UCunsaac" target="_blank" title="YouTube">
            <i class="fab fa-youtube"></i>
          </a>
        </div>
      </div>
    </div>
  </footer>

  <!-- Modal para reportar error -->
  <div id="reportErrorModal" class="modal" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Reportar Error</h3>
        <span class="close" onclick="cerrarModal('reportErrorModal')">&times;</span>
      </div>
      <div class="modal-body">
        <form id="errorReportForm" onsubmit="enviarReporteError(event)">
          <div class="form-group">
            <label for="errorDescription">Descripción del problema:</label>
            <textarea id="errorDescription" name="descripcion" rows="4" 
                      placeholder="Describe qué estabas intentando hacer cuando ocurrió el error..."
                      required></textarea>
          </div>
          
          <div class="form-group">
            <label for="userEmail">Tu correo electrónico:</label>
            <input type="email" id="userEmail" name="email" 
                   placeholder="tu.correo@unsaac.edu.pe">
          </div>
          
          <div class="form-group">
            <label for="expectedBehavior">¿Qué esperabas que pasara?</label>
            <textarea id="expectedBehavior" name="esperado" rows="3"
                      placeholder="Describe el comportamiento esperado..."></textarea>
          </div>
          
          <div class="technical-info">
            <h4>Información técnica (se incluirá automáticamente):</h4>
            <ul>
              <li>URL: <code id="reportUrl">-</code></li>
              <li>Navegador: <code id="reportBrowser">-</code></li>
              <li>Hora: <code id="reportTimestamp">-</code></li>
            </ul>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="submit" form="errorReportForm" class="btn btn-primary">
          <i class="fas fa-paper-plane"></i> Enviar Reporte
        </button>
        <button onclick="cerrarModal('reportErrorModal')" class="btn btn-secondary">Cancelar</button>
      </div>
    </div>
  </div>

  <!-- Overlay para modales -->
  <div id="modalOverlay" class="modal-overlay" style="display: none;"></div>

  <!-- JavaScript Principal -->
  <script src="../assets/js/principal.js"></script>

  <!-- Scripts específicos del error 404 -->
  <script>
    // Configuración inicial del error 404
    document.addEventListener('DOMContentLoaded', function() {
      inicializarError404();
      registrarError404();
      configurarBusqueda();
      llenarInformacionTecnica();
    });

    function inicializarError404() {
      // Mostrar información de la URL solicitada
      document.getElementById('requestedUrl').textContent = window.location.href;
      
      // Mostrar tiempo del error
      document.getElementById('errorTime').textContent = new Date().toLocaleString('es-PE');
      
      // Mostrar referrer si existe
      if (document.referrer) {
        document.getElementById('referrerUrl').textContent = document.referrer;
      }
      
      // Iniciar animaciones
      iniciarAnimaciones();
    }

    function registrarError404() {
      // Registrar el error 404 para estadísticas (si hay sesión)
      const errorData = {
        url: window.location.href,
        referrer: document.referrer,
        timestamp: new Date().toISOString(),
        userAgent: navigator.userAgent
      };
      
      // Enviar a analytics si está configurado
      if (typeof gtag !== 'undefined') {
        gtag('event', 'page_not_found', {
          page_location: errorData.url,
          page_referrer: errorData.referrer
        });
      }
    }

    function configurarBusqueda() {
      // Configurar autocompletado de búsqueda
      const searchInput = document.getElementById('errorSearchInput');
      searchInput.addEventListener('input', function() {
        // Implementar sugerencias de búsqueda
        mostrarSugerenciasBusqueda(this.value);
      });
    }

    function llenarInformacionTecnica() {
      // Para el modal de reporte de error
      document.getElementById('reportUrl').textContent = window.location.href;
      document.getElementById('reportBrowser').textContent = navigator.userAgent;
      document.getElementById('reportTimestamp').textContent = new Date().toISOString();
    }

    function iniciarAnimaciones() {
      // Animar elementos flotantes
      const elements = document.querySelectorAll('.floating-elements .element');
      elements.forEach((element, index) => {
        element.style.animationDelay = `${index * 0.5}s`;
        element.classList.add('animate');
      });
    }

    // Funciones de navegación
    function irAlInicio() {
      window.location.href = '../index.html';
    }

    function volverAtras() {
      if (window.history.length > 1) {
        window.history.back();
      } else {
        irAlInicio();
      }
    }

    function reportarError() {
      document.getElementById('reportErrorModal').style.display = 'block';
      document.getElementById('modalOverlay').style.display = 'block';
    }

    // Funciones de búsqueda
    function buscarEnError(event) {
      if (event.key === 'Enter') {
        realizarBusquedaError();
      }
    }

    function realizarBusquedaError() {
      const searchTerm = document.getElementById('errorSearchInput').value.trim();
      if (searchTerm) {
        // Redirigir a página de búsqueda o mostrar resultados
        window.location.href = `../paginas/compartidas/busqueda.html?q=${encodeURIComponent(searchTerm)}`;
      }
    }

    function buscarRapido(termino) {
      document.getElementById('errorSearchInput').value = termino;
      realizarBusquedaError();
    }

    function mostrarSugerenciasBusqueda(query) {
      // Implementar lógica de sugerencias
      if (query.length < 2) return;
      
      // Mostrar sugerencias basadas en el query
      console.log('Buscando sugerencias para:', query);
    }

    // Función para enviar reporte de error
    function enviarReporteError(event) {
      event.preventDefault();
      
      const formData = new FormData(event.target);
      const reportData = {
        descripcion: formData.get('descripcion'),
        email: formData.get('email'),
        esperado: formData.get('esperado'),
        url: window.location.href,
        referrer: document.referrer,
        userAgent: navigator.userAgent,
        timestamp: new Date().toISOString()
      };
      
      // Aquí enviarías el reporte al servidor
      console.log('Enviando reporte de error:', reportData);
      
      // Simular envío exitoso
      setTimeout(() => {
        alert('Reporte enviado exitosamente. Gracias por tu retroalimentación.');
        cerrarModal('reportErrorModal');
      }, 1000);
    }

    function cerrarModal(modalId) {
      document.getElementById(modalId).style.display = 'none';
      document.getElementById('modalOverlay').style.display = 'none';
    }

    // Cerrar modal al hacer clic en el overlay
    document.getElementById('modalOverlay').addEventListener('click', function() {
      document.querySelectorAll('.modal').forEach(modal => {
        modal.style.display = 'none';
      });
      this.style.display = 'none';
    });
  </script>

  <!-- CSS específico para la página 404 -->
  <style>
    .error-page {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
    }

    .error-header {
      padding: 1rem 0;
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
    }

    .error-main {
      flex: 1;
      padding: 2rem 0;
    }

    .error-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 1rem;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 3rem;
      align-items: center;
    }

    .error-visual {
      text-align: center;
      position: relative;
    }

    .error-number {
      font-size: 12rem;
      font-weight: 900;
      line-height: 1;
      background: linear-gradient(45deg, #fff, #f1c40f);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-shadow: 0 0 30px rgba(255, 255, 255, 0.5);
    }

    .error-icon {
      font-size: 4rem;
      margin: 1rem 0;
      opacity: 0.8;
    }

    .floating-elements {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      pointer-events: none;
    }

    .element {
      position: absolute;
      font-size: 2rem;
      opacity: 0.3;
      animation: float 3s ease-in-out infinite;
    }

    .element-1 { top: 10%; left: 10%; animation-delay: 0s; }
    .element-2 { top: 20%; right: 15%; animation-delay: 1s; }
    .element-3 { bottom: 15%; left: 20%; animation-delay: 2s; }

    @keyframes float {
      0%, 100% { transform: translateY(0px) rotate(0deg); }
      50% { transform: translateY(-20px) rotate(5deg); }
    }

    .error-content h1 {
      font-size: 2.5rem;
      margin-bottom: 1rem;
    }

    .error-description {
      font-size: 1.2rem;
      margin-bottom: 2rem;
      opacity: 0.9;
    }

    .error-actions {
      display: flex;
      gap: 1rem;
      margin: 2rem 0;
      flex-wrap: wrap;
    }

    .btn-large {
      padding: 1rem 2rem;
      font-size: 1.1rem;
    }

    .useful-links-section,
    .error-search-section,
    .contact-section {
      max-width: 1200px;
      margin: 3rem auto;
      padding: 0 1rem;
    }

    .links-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1.5rem;
      margin-top: 2rem;
    }

    .link-card {
      background: rgba(255, 255, 255, 0.1);
      padding: 2rem;
      border-radius: 12px;
      text-align: center;
      backdrop-filter: blur(10px);
      transition: transform 0.3s ease;
    }

    .link-card:hover {
      transform: translateY(-5px);
    }

    .link-icon {
      font-size: 3rem;
      margin-bottom: 1rem;
      color: #f1c40f;
    }

    @media (max-width: 768px) {
      .error-container {
        grid-template-columns: 1fr;
        gap: 2rem;
      }
      
      .error-number {
        font-size: 8rem;
      }
      
      .error-actions {
        flex-direction: column;
      }
    }
  </style>
</body>
</html>
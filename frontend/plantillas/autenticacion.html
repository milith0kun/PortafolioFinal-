<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="{{AUTH_DESCRIPTION}} - Sistema de Portafolio Docente UNSAAC">
  <meta name="keywords" content="{{AUTH_KEYWORDS}}, autenticación, login, UNSAAC">
  <meta name="author" content="UNSAAC">
  <title>{{AUTH_TITLE}} - Sistema de Portafolio Docente</title>

  <!-- CSS Principal -->
  <link rel="stylesheet" href="{{CSS_PATH}}/principal.css">
  
  <!-- CSS Específicos de Autenticación -->
  {{AUTH_SPECIFIC_CSS}}

  <!-- JavaScript Core -->
  <script src="{{JS_PATH}}/nucleo/configuracion.js"></script>
  <script src="{{JS_PATH}}/nucleo/autenticacion.js"></script>
  
  <!-- JavaScript Específicos de Autenticación -->
  {{AUTH_SPECIFIC_JS}}

  <!-- Font Awesome para iconos -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <!-- Meta adicionales para páginas de auth -->
  <meta name="robots" content="noindex, nofollow">
  <meta name="theme-color" content="#2c3e50">
  <link rel="icon" type="image/png" href="{{ASSETS_PATH}}/imagenes/iconos/favicon.png">
</head>

<body class="auth-body" {{AUTH_BODY_ATTRIBUTES}}>
  <!-- Header simplificado para autenticación -->
  <header class="auth-header">
    <!-- Sección superior -->
    <div class="header-top">
      <div class="header-top-container">
        <!-- Búsqueda deshabilitada en auth -->
        <div class="search-container">
          <input type="text" class="search-input" placeholder="Buscar..." readonly>
        </div>

        <!-- Solo redes sociales en auth -->
        <div class="header-actions">
          <div class="social-icons">
            <a href="https://www.facebook.com/unsaac.oficial" target="_blank" class="social-icon" title="Facebook UNSAAC">
              <i class="fab fa-facebook-f"></i>
            </a>
            <a href="https://twitter.com/unsaac_oficial" target="_blank" class="social-icon" title="Twitter UNSAAC">
              <i class="fab fa-twitter"></i>
            </a>
            <a href="https://www.instagram.com/unsaac_oficial" target="_blank" class="social-icon" title="Instagram UNSAAC">
              <i class="fab fa-instagram"></i>
            </a>
            <a href="https://www.youtube.com/channel/UCunsaac" target="_blank" class="social-icon" title="YouTube UNSAAC">
              <i class="fab fa-youtube"></i>
            </a>
          </div>

          <!-- Estado de usuario simplificado -->
          <div class="user-menu">
            <div class="user-icon">
              <i class="fas fa-user"></i>
            </div>
            <span class="user-name">{{AUTH_USER_STATUS}}</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Logo central -->
    <div class="header-middle">
      <div class="header-middle-container">
        <div class="logo-container">
          <div class="logo-img">
            <img src="{{ASSETS_PATH}}/imagenes/logos/logo-unsaac.png" alt="Logo UNSAAC" onclick="irAlInicio()">
          </div>
          <div class="logo-text-container">
            <span class="logo-title">Sistema de Portafolio</span>
            <span class="logo-subtitle">{{AUTH_SUBTITLE}}</span>
          </div>
        </div>

        <!-- Información adicional de estado -->
        <div class="header-info">
          {{AUTH_HEADER_INFO}}
        </div>
      </div>
    </div>

    <!-- Navegación simplificada -->
    <div class="header-bottom">
      <div class="header-bottom-container">
        <button class="menu-toggle" aria-label="Abrir menú">
          <i class="fas fa-bars"></i>
        </button>

        <nav class="main-nav">
          <ul class="nav-list">
            {{AUTH_NAVIGATION_ITEMS}}
          </ul>
        </nav>
      </div>
    </div>
  </header>

  <!-- Contenido principal de autenticación -->
  <main class="auth-main">
    <!-- Mensajes del sistema para auth -->
    <div class="system-messages" id="authMessages">
      {{AUTH_SYSTEM_MESSAGES}}
    </div>

    <!-- Contenedor principal de autenticación -->
    <div class="auth-container">
      <!-- Panel izquierdo - Formulario -->
      <div class="auth-form-section">
        <div class="auth-form-container">
          <!-- Header del formulario -->
          <div class="auth-header-content">
            <div class="auth-logo">
              <img src="{{ASSETS_PATH}}/imagenes/logos/logo-unsaac.png" alt="Logo UNSAAC">
            </div>
            <h1>{{AUTH_FORM_TITLE}}</h1>
            <p class="auth-description">{{AUTH_FORM_DESCRIPTION}}</p>
          </div>

          <!-- Estado del sistema -->
          <div class="system-status" id="systemStatus" style="{{SYSTEM_STATUS_DISPLAY}}">
            <div class="status-indicator">
              <i class="fas fa-info-circle"></i>
              <span id="systemStatusText">{{SYSTEM_STATUS_TEXT}}</span>
            </div>
          </div>

          <!-- Contenido del formulario específico -->
          {{AUTH_FORM_CONTENT}}

          <!-- Links adicionales -->
          <div class="auth-links">
            {{AUTH_ADDITIONAL_LINKS}}
          </div>

          <!-- Footer del formulario -->
          <div class="auth-footer">
            <p>Sistema de Gestión de Portafolio Docente &copy; 2025</p>
            <div class="auth-footer-links">
              <a href="{{BASE_PATH}}/compartidas/ayuda.html">Ayuda</a>
              <span class="separator">|</span>
              <a href="#" onclick="mostrarTerminos()">Términos</a>
              <span class="separator">|</span>
              <a href="#" onclick="mostrarPrivacidad()">Privacidad</a>
            </div>
          </div>
        </div>
      </div>

      <!-- Panel derecho - Información -->
      <div class="auth-info-section">
        <div class="auth-info-container">
          <!-- Contenido informativo específico -->
          {{AUTH_INFO_CONTENT}}

          <!-- Información institucional -->
          <div class="institutional-info">
            <div class="info-header">
              <h2>Universidad Nacional de San Antonio Abad del Cusco</h2>
              <p class="motto">"La primera universidad del Perú"</p>
            </div>

            <div class="info-stats">
              <div class="stat-item">
                <div class="stat-number">600+</div>
                <div class="stat-label">Años de Historia</div>
              </div>
              <div class="stat-item">
                <div class="stat-number">15000+</div>
                <div class="stat-label">Estudiantes</div>
              </div>
              <div class="stat-item">
                <div class="stat-number">800+</div>
                <div class="stat-label">Docentes</div>
              </div>
            </div>

            <div class="info-features">
              <h3>Sistema de Portafolio Docente</h3>
              <ul class="features-list">
                <li>
                  <i class="fas fa-shield-alt"></i>
                  <span>Gestión segura de documentos académicos</span>
                </li>
                <li>
                  <i class="fas fa-chart-line"></i>
                  <span>Seguimiento de progreso en tiempo real</span>
                </li>
                <li>
                  <i class="fas fa-users"></i>
                  <span>Colaboración entre docentes y verificadores</span>
                </li>
                <li>
                  <i class="fas fa-file-pdf"></i>
                  <span>Generación automática de reportes</span>
                </li>
                <li>
                  <i class="fas fa-mobile-alt"></i>
                  <span>Acceso desde cualquier dispositivo</span>
                </li>
              </ul>
            </div>

            <div class="info-contact">
              <h4>¿Necesitas Ayuda?</h4>
              <div class="contact-options">
                <a href="mailto:portafolio@unsaac.edu.pe" class="contact-option">
                  <i class="fas fa-envelope"></i>
                  <span>portafolio@unsaac.edu.pe</span>
                </a>
                <a href="tel:+51842320006" class="contact-option">
                  <i class="fas fa-phone"></i>
                  <span>+51 84 232006</span>
                </a>
                <a href="{{BASE_PATH}}/compartidas/ayuda.html" class="contact-option">
                  <i class="fas fa-question-circle"></i>
                  <span>Centro de Ayuda</span>
                </a>
              </div>
            </div>
          </div>

          <!-- Carrusel de testimonios (opcional) -->
          <div class="testimonials-section" style="{{TESTIMONIALS_DISPLAY}}">
            <h3>Lo que dicen nuestros usuarios</h3>
            <div class="testimonials-slider" id="testimonialsSlider">
              {{TESTIMONIALS_CONTENT}}
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Información adicional -->
    <div class="auth-additional-info" style="{{ADDITIONAL_INFO_DISPLAY}}">
      {{AUTH_ADDITIONAL_INFO}}
    </div>
  </main>

  <!-- Footer simplificado para auth -->
  <footer class="auth-footer-main">
    <div class="footer-container">
      <div class="footer-content">
        <div class="footer-section">
          <p>&copy; 2025 Universidad Nacional de San Antonio Abad del Cusco</p>
          <p>Todos los derechos reservados</p>
        </div>

        <div class="footer-section">
          <div class="footer-links">
            <a href="{{BASE_PATH}}/index.html">Inicio</a>
            <a href="{{BASE_PATH}}/compartidas/ayuda.html">Ayuda</a>
            <a href="#" onclick="mostrarTerminos()">Términos</a>
            <a href="#" onclick="mostrarPrivacidad()">Privacidad</a>
          </div>
        </div>

        <div class="footer-section">
          <div class="footer-social">
            <a href="https://www.facebook.com/unsaac.oficial" target="_blank" title="Facebook">
              <i class="fab fa-facebook-f"></i>
            </a>
            <a href="https://twitter.com/unsaac_oficial" target="_blank" title="Twitter">
              <i class="fab fa-twitter"></i>
            </a>
            <a href="https://www.instagram.com/unsaac_oficial" target="_blank" title="Instagram">
              <i class="fab fa-instagram"></i>
            </a>
            <a href="https://www.youtube.com/channel/UCunsaac" target="_blank" title="YouTube">
              <i class="fab fa-youtube"></i>
            </a>
          </div>
        </div>
      </div>

      <div class="footer-bottom">
        <p>Desarrollado por el Área de Tecnologías de Información - UNSAAC | Versión 1.0.0</p>
        <div class="footer-actions">
          <button onclick="cambiarTema()" class="theme-toggle" title="Cambiar tema">
            <i class="fas fa-moon" id="themeIcon"></i>
          </button>
        </div>
      </div>
    </div>
  </footer>

  <!-- Modales específicos de autenticación -->
  
  <!-- Modal de términos y condiciones -->
  <div id="termsModal" class="modal" style="display: none;">
    <div class="modal-content large-modal">
      <div class="modal-header">
        <h3>Términos y Condiciones de Uso</h3>
        <span class="close" onclick="cerrarModal('termsModal')">&times;</span>
      </div>
      <div class="modal-body">
        <div class="terms-content">
          <h4>1. Aceptación de los Términos</h4>
          <p>Al acceder y utilizar el Sistema de Portafolio Docente de la UNSAAC, usted acepta cumplir con estos términos y condiciones.</p>
          
          <h4>2. Uso del Sistema</h4>
          <p>El sistema está destinado exclusivamente para uso académico e institucional por parte del personal docente y administrativo autorizado de la UNSAAC.</p>
          
          <h4>3. Responsabilidades del Usuario</h4>
          <ul>
            <li>Mantener la confidencialidad de sus credenciales de acceso</li>
            <li>Utilizar el sistema de manera responsable y ética</li>
            <li>No compartir información sensible con terceros no autorizados</li>
            <li>Reportar cualquier problema de seguridad detectado</li>
          </ul>
          
          <h4>4. Privacidad y Protección de Datos</h4>
          <p>La UNSAAC se compromete a proteger la privacidad de los usuarios conforme a la legislación vigente sobre protección de datos personales.</p>
          
          <h4>5. Modificaciones</h4>
          <p>La UNSAAC se reserva el derecho de modificar estos términos en cualquier momento, notificando a los usuarios a través del sistema.</p>
        </div>
      </div>
      <div class="modal-footer">
        <button onclick="cerrarModal('termsModal')" class="btn btn-primary">Entendido</button>
      </div>
    </div>
  </div>

  <!-- Modal de política de privacidad -->
  <div id="privacyModal" class="modal" style="display: none;">
    <div class="modal-content large-modal">
      <div class="modal-header">
        <h3>Política de Privacidad</h3>
        <span class="close" onclick="cerrarModal('privacyModal')">&times;</span>
      </div>
      <div class="modal-body">
        <div class="privacy-content">
          <h4>Información que Recopilamos</h4>
          <p>Recopilamos información necesaria para el funcionamiento del sistema académico, incluyendo datos personales básicos, información académica y actividad dentro del sistema.</p>
          
          <h4>Uso de la Información</h4>
          <p>La información se utiliza exclusivamente para fines académicos e institucionales, gestión de portafolios docentes y mejora del servicio educativo.</p>
          
          <h4>Protección de Datos</h4>
          <p>Implementamos medidas de seguridad técnicas y organizativas para proteger sus datos personales contra acceso no autorizado, pérdida o destrucción.</p>
          
          <h4>Derechos del Usuario</h4>
          <p>Usted tiene derecho a acceder, rectificar, cancelar u oponerse al tratamiento de sus datos personales conforme a la ley.</p>
          
          <h4>Contacto</h4>
          <p>Para consultas sobre privacidad, contacte a: portafolio@unsaac.edu.pe</p>
        </div>
      </div>
      <div class="modal-footer">
        <button onclick="cerrarModal('privacyModal')" class="btn btn-primary">Entendido</button>
      </div>
    </div>
  </div>

  <!-- Toast notifications para auth -->
  <div id="authToastContainer" class="toast-container">
    <!-- Se generan dinámicamente -->
  </div>

  <!-- JavaScript Principal -->
  <script src="{{JS_PATH}}/principal.js"></script>

  <!-- Scripts inline para autenticación -->
  <script>
    // Variables específicas de autenticación
    window.AUTH_CONFIG = {
      basePath: '{{BASE_PATH}}',
      assetsPath: '{{ASSETS_PATH}}',
      authType: '{{AUTH_TYPE}}',
      redirectAfterLogin: '{{REDIRECT_URL}}',
      apiEndpoint: '{{API_ENDPOINT}}',
      enableCaptcha: {{ENABLE_CAPTCHA}} || false,
      maxLoginAttempts: {{MAX_LOGIN_ATTEMPTS}} || 3
    };

    // Inicialización de la página de autenticación
    document.addEventListener('DOMContentLoaded', function() {
      inicializarAutenticacion();
      verificarSesionExistente();
      aplicarTemaGuardado();
      inicializarComponentesAuth();
      configurarValidacionFormularios();
    });

    // Funciones básicas de autenticación
    function irAlInicio() {
      window.location.href = AUTH_CONFIG.basePath + '/index.html';
    }

    function mostrarTerminos() {
      document.getElementById('termsModal').style.display = 'block';
      document.getElementById('modalOverlay').style.display = 'block';
    }

    function mostrarPrivacidad() {
      document.getElementById('privacyModal').style.display = 'block';
      document.getElementById('modalOverlay').style.display = 'block';
    }

    function cerrarModal(modalId) {
      document.getElementById(modalId).style.display = 'none';
      document.getElementById('modalOverlay').style.display = 'none';
    }

    function cambiarTema() {
      const currentTheme = document.body.getAttribute('data-theme') || 'light';
      const newTheme = currentTheme === 'light' ? 'dark' : 'light';
      
      document.body.setAttribute('data-theme', newTheme);
      localStorage.setItem('theme', newTheme);
      
      const themeIcon = document.getElementById('themeIcon');
      themeIcon.className = newTheme === 'dark' ? 'fas fa-sun' : 'fas fa-moon';
    }

    function aplicarTemaGuardado() {
      const savedTheme = localStorage.getItem('theme') || 'light';
      document.body.setAttribute('data-theme', savedTheme);
      
      const themeIcon = document.getElementById('themeIcon');
      if (themeIcon) {
        themeIcon.className = savedTheme === 'dark' ? 'fas fa-sun' : 'fas fa-moon';
      }
    }

    // Funciones placeholder para ser implementadas en scripts específicos
    function inicializarAutenticacion() {
      // Implementar en JavaScript específico de autenticación
    }

    function verificarSesionExistente() {
      // Verificar si ya hay una sesión activa
    }

    function inicializarComponentesAuth() {
      // Inicializar componentes específicos de auth
    }

    function configurarValidacionFormularios() {
      // Configurar validación en tiempo real
    }

    // Manejo de errores específico para auth
    function mostrarErrorAuth(mensaje, tipo = 'error') {
      mostrarToast(mensaje, tipo);
    }

    function mostrarToast(mensaje, tipo = 'info') {
      const container = document.getElementById('authToastContainer');
      const toast = document.createElement('div');
      toast.className = `toast toast-${tipo}`;
      toast.innerHTML = `
        <div class="toast-content">
          <i class="fas fa-${tipo === 'error' ? 'exclamation-circle' : tipo === 'success' ? 'check-circle' : 'info-circle'}"></i>
          <span>${mensaje}</span>
        </div>
        <button onclick="this.parentElement.remove()" class="toast-close">
          <i class="fas fa-times"></i>
        </button>
      `;
      
      container.appendChild(toast);
      
      // Auto-remover después de 5 segundos
      setTimeout(() => {
        if (toast.parentElement) {
          toast.remove();
        }
      }, 5000);
    }

    // Configuración del overlay para modales
    if (!document.getElementById('modalOverlay')) {
      const overlay = document.createElement('div');
      overlay.id = 'modalOverlay';
      overlay.className = 'modal-overlay';
      overlay.style.display = 'none';
      overlay.onclick = function() {
        document.querySelectorAll('.modal').forEach(modal => {
          modal.style.display = 'none';
        });
        this.style.display = 'none';
      };
      document.body.appendChild(overlay);
    }
  </script>

  <!-- Scripts inline adicionales específicos -->
  {{AUTH_INLINE_SCRIPTS}}
</body>
</html>